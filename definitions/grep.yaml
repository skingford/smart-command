name: grep
description:
  en: Search for patterns in files
  zh: 打印匹配模式的行
flags:
  - long: extended-regexp
    short: E
    description:
      en: Use extended regular expressions
      zh: 使用扩展正则表达式
  - long: fixed-strings
    short: F
    description:
      en: Use fixed strings instead of patterns
      zh: 使用固定字符串而非模式
  - long: basic-regexp
    short: G
    description:
      en: Use basic regular expressions (default)
      zh: 使用基本正则表达式（默认）
  - long: perl-regexp
    short: P
    description:
      en: Use Perl-compatible regular expressions
      zh: 使用Perl兼容正则表达式
  - long: regexp
    short: e
    description:
      en: Pattern to match
      zh: 要匹配的模式
    takes_value: true
  - long: file
    short: f
    description:
      en: Read patterns from file
      zh: 从文件读取模式
    takes_value: true
  - long: ignore-case
    short: i
    description:
      en: Case insensitive matching
      zh: 不区分大小写匹配
  - long: no-ignore-case
    description:
      en: Case sensitive matching
      zh: 区分大小写匹配
  - long: word-regexp
    short: w
    description:
      en: Match whole words only
      zh: 仅匹配整个单词
  - long: line-regexp
    short: x
    description:
      en: Match whole lines only
      zh: 仅匹配整行
  - short: z
    description:
      en: Treat data as null-terminated lines
      zh: 将数据视为以空字符结尾的行
  - long: null-data
    description:
      en: Treat data as null-terminated lines
      zh: 将数据视为以空字符结尾的行
  - long: count
    short: c
    description:
      en: Print only count of matching lines
      zh: 仅打印匹配行数
  - long: color
    description:
      en: Colorize matching text (always, never, auto)
      zh: 着色匹配文本（always、never、auto）
    takes_value: true
  - long: colour
    description:
      en: Colorize matching text (always, never, auto)
      zh: 着色匹配文本（always、never、auto）
    takes_value: true
  - long: files-with-matches
    short: l
    description:
      en: Print only names of files with matches
      zh: 仅打印包含匹配的文件名
  - long: files-without-match
    short: L
    description:
      en: Print only names of files without matches
      zh: 仅打印不包含匹配的文件名
  - long: max-count
    short: m
    description:
      en: Stop after NUM matches
      zh: 达到NUM个匹配后停止
    takes_value: true
  - long: only-matching
    short: o
    description:
      en: Print only matching parts of lines
      zh: 仅打印行中匹配的部分
  - long: quiet
    short: q
    description:
      en: Suppress all output
      zh: 抑制所有输出
  - long: silent
    description:
      en: Suppress all output
      zh: 抑制所有输出
  - long: no-messages
    short: s
    description:
      en: Suppress error messages
      zh: 抑制错误消息
  - long: invert-match
    short: v
    description:
      en: Select non-matching lines
      zh: 选择不匹配的行
  - long: byte-offset
    short: b
    description:
      en: Print byte offset with output
      zh: 输出时打印字节偏移
  - long: with-filename
    short: H
    description:
      en: Print filename with output
      zh: 输出时打印文件名
  - long: no-filename
    short: h
    description:
      en: Suppress filename prefix
      zh: 抑制文件名前缀
  - long: label
    description:
      en: Label for stdin
      zh: stdin的标签
    takes_value: true
  - long: line-number
    short: n
    description:
      en: Print line number with output
      zh: 输出时打印行号
  - long: initial-tab
    short: T
    description:
      en: Align output with tabs
      zh: 使用制表符对齐输出
  - long: unix-byte-offsets
    short: u
    description:
      en: Report offsets as if CRs were not there
      zh: 报告偏移时忽略CR字符
  - long: "null"
    short: Z
    description:
      en: Print null byte after filename
      zh: 在文件名后打印空字节
  - long: after-context
    short: A
    description:
      en: Print NUM lines after match
      zh: 打印匹配后NUM行
    takes_value: true
  - long: before-context
    short: B
    description:
      en: Print NUM lines before match
      zh: 打印匹配前NUM行
    takes_value: true
  - long: context
    short: C
    description:
      en: Print NUM lines before and after match
      zh: 打印匹配前后NUM行
    takes_value: true
  - long: text
    short: a
    description:
      en: Process binary files as text
      zh: 将二进制文件作为文本处理
  - long: binary-files
    description:
      en: Set binary file handling (binary, text, without-match)
      zh: 设置二进制文件处理方式（binary、text、without-match）
    takes_value: true
  - short: I
    description:
      en: Ignore binary files
      zh: 忽略二进制文件
  - long: devices
    short: D
    description:
      en: How to handle devices (read, skip)
      zh: 如何处理设备（read、skip）
    takes_value: true
  - long: directories
    short: d
    description:
      en: How to handle directories (read, skip, recurse)
      zh: 如何处理目录（read、skip、recurse）
    takes_value: true
  - long: exclude
    description:
      en: Skip files matching pattern
      zh: 跳过匹配模式的文件
    takes_value: true
  - long: exclude-from
    description:
      en: Skip files matching patterns in file
      zh: 跳过匹配文件中模式的文件
    takes_value: true
  - long: exclude-dir
    description:
      en: Skip directories matching pattern
      zh: 跳过匹配模式的目录
    takes_value: true
  - long: include
    description:
      en: Search only files matching pattern
      zh: 仅搜索匹配模式的文件
    takes_value: true
  - long: recursive
    short: r
    description:
      en: Recursively search directories
      zh: 递归搜索目录
  - short: R
    description:
      en: Recursively search directories following symlinks
      zh: 递归搜索目录并跟随符号链接
  - long: dereference-recursive
    description:
      en: Follow all symbolic links
      zh: 跟随所有符号链接
  - long: line-buffered
    description:
      en: Use line buffering
      zh: 使用行缓冲
  - long: binary
    short: U
    description:
      en: Do not strip CR characters
      zh: 不去除CR字符
  - long: group-separator
    description:
      en: Print separator between groups
      zh: 在组之间打印分隔符
    takes_value: true
  - long: no-group-separator
    description:
      en: Do not print separator between groups
      zh: 不在组之间打印分隔符
is_path_completion: true
examples:
  - cmd: 'grep "[pattern]" [file]'
    scenario:
      en: Search pattern in file
      zh: 在文件中搜索模式
  - cmd: 'grep -r "[pattern]" [directory]'
    scenario:
      en: Search recursively in directory
      zh: 在目录中递归搜索
  - cmd: 'grep -i "[pattern]" [file]'
    scenario:
      en: Case insensitive search
      zh: 忽略大小写搜索
  - cmd: 'grep -n "[pattern]" [file]'
    scenario:
      en: Show line numbers
      zh: 显示行号
  - cmd: 'grep -v "[pattern]" [file]'
    scenario:
      en: Invert match (exclude pattern)
      zh: 反向匹配（排除模式）
  - cmd: 'grep -l "[pattern]" *'
    scenario:
      en: List files containing pattern
      zh: 列出包含模式的文件
  - cmd: 'grep -c "[pattern]" [file]'
    scenario:
      en: Count matching lines
      zh: 统计匹配行数
  - cmd: 'grep -A 3 -B 3 "[pattern]" [file]'
    scenario:
      en: Show 3 lines before and after match
      zh: 显示匹配前后各 3 行
  - cmd: 'grep -E "[regex]" [file]'
    scenario:
      en: Extended regex search
      zh: 扩展正则表达式搜索
  - cmd: 'grep -w "[pattern]" [file]'
    scenario:
      en: Match whole words only
      zh: 仅匹配整个单词
  - cmd: 'grep -x "[pattern]" [file]'
    scenario:
      en: Match whole lines only
      zh: 仅匹配整行
  - cmd: 'grep -o "[pattern]" [file]'
    scenario:
      en: Print only matched parts
      zh: 仅打印匹配的部分
  - cmd: 'grep -m 5 "[pattern]" [file]'
    scenario:
      en: Stop after 5 matches
      zh: 匹配 5 次后停止
  - cmd: 'grep -C 2 "[pattern]" [file]'
    scenario:
      en: Show 2 lines of context around match
      zh: 显示匹配前后各 2 行
  - cmd: 'grep -e "pattern1" -e "pattern2" [file]'
    scenario:
      en: Search for multiple patterns
      zh: 搜索多个模式
  - cmd: 'grep -f [patterns_file] [file]'
    scenario:
      en: Read patterns from file
      zh: 从文件读取模式
  - cmd: 'grep -F "[pattern]" [file]'
    scenario:
      en: Fixed string search (no regex)
      zh: 固定字符串搜索（无正则）
  - cmd: 'grep -P "[regex]" [file]'
    scenario:
      en: Perl-compatible regex search
      zh: Perl 兼容正则表达式搜索
  - cmd: 'grep -n "[pattern]" [file1] [file2]'
    scenario:
      en: Search in multiple files with line numbers
      zh: 在多个文件中搜索并显示行号
  - cmd: 'grep -H "[pattern]" [file]'
    scenario:
      en: Always show filename
      zh: 始终显示文件名
  - cmd: 'grep -h "[pattern]" *'
    scenario:
      en: Suppress filename prefix
      zh: 抑制文件名前缀
  - cmd: 'grep -b "[pattern]" [file]'
    scenario:
      en: Show byte offset
      zh: 显示字节偏移
  - cmd: 'grep -L "[pattern]" *'
    scenario:
      en: List files NOT containing pattern
      zh: 列出不包含模式的文件
  - cmd: 'grep --color=always "[pattern]" [file]'
    scenario:
      en: Always highlight matches
      zh: 始终高亮显示匹配
  - cmd: 'grep --color=never "[pattern]" [file]'
    scenario:
      en: Never highlight matches
      zh: 从不高亮显示匹配
  - cmd: 'grep -r "[pattern]" . --exclude-dir=".git"'
    scenario:
      en: Search recursively excluding .git directory
      zh: 递归搜索但排除 .git 目录
  - cmd: 'grep -r "[pattern]" . --include="*.py"'
    scenario:
      en: Search only in Python files
      zh: 仅在 Python 文件中搜索
  - cmd: 'grep -r "[pattern]" . --exclude="*.log"'
    scenario:
      en: Search excluding log files
      zh: 搜索但排除日志文件
  - cmd: 'grep -I "[pattern]" [file]'
    scenario:
      en: Ignore binary files
      zh: 忽略二进制文件
  - cmd: 'grep -a "[pattern]" [file]'
    scenario:
      en: Process binary files as text
      zh: 将二进制文件作为文本处理
  - cmd: 'grep -q "[pattern]" [file]'
    scenario:
      en: Quiet mode (exit status only)
      zh: 静默模式（仅返回退出状态）
  - cmd: 'grep -s "[pattern]" [file]'
    scenario:
      en: Suppress error messages
      zh: 抑制错误消息
  - cmd: 'grep -R "[pattern]" [directory]'
    scenario:
      en: Recursive search following symlinks
      zh: 递归搜索并跟随符号链接
  - cmd: 'grep --line-buffered "[pattern]" [file]'
    scenario:
      en: Use line buffering (for piped output)
      zh: 使用行缓冲（用于管道输出）
  - cmd: 'grep -Z "[pattern]" [file]'
    scenario:
      en: Print null byte after filename
      zh: 在文件名后打印空字节
  - cmd: 'grep -T "[pattern]" [file]'
    scenario:
      en: Align output with tabs
      zh: 使用制表符对齐输出
  - cmd: 'grep -n "[pattern]" [file] | head -20'
    scenario:
      en: Show first 20 matches with line numbers
      zh: 显示前 20 个匹配及行号
  - cmd: 'grep -c -v "^$" [file]'
    scenario:
      en: Count non-empty lines
      zh: 统计非空行数
  - cmd: 'grep -E "error|warning|fail" [file]'
    scenario:
      en: Search for multiple patterns with OR
      zh: 使用 OR 搜索多个模式
  - cmd: 'grep -v "^#" [file]'
    scenario:
      en: Exclude comment lines
      zh: 排除注释行
  - cmd: 'grep -v "^$" [file]'
    scenario:
      en: Exclude empty lines
      zh: 排除空行
  - cmd: 'grep -rn "[pattern]" .'
    scenario:
      en: Recursive search with line numbers in current directory
      zh: 在当前目录递归搜索并显示行号
  - cmd: 'grep -rl "[pattern]" .'
    scenario:
      en: List files containing pattern recursively
      zh: 递归列出包含模式的文件
  - cmd: 'grep -rni "[pattern]" .'
    scenario:
      en: Recursive case-insensitive search with line numbers
      zh: 递归不区分大小写搜索并显示行号
  - cmd: 'grep -B 5 -A 5 "[pattern]" [file]'
    scenario:
      en: Show 5 lines before and after match
      zh: 显示匹配前后各 5 行
  - cmd: 'grep --exclude-dir={node_modules,vendor} -r "[pattern]" .'
    scenario:
      en: Search excluding multiple directories
      zh: 搜索时排除多个目录
  - cmd: 'grep -o "[pattern]" [file] | sort -u'
    scenario:
      en: Extract unique patterns from file
      zh: 从文件中提取唯一的模式
  - cmd: 'grep -c "[pattern]" [file1] [file2] [file3]'
    scenario:
      en: Count matches in multiple files
      zh: 统计多个文件中的匹配数
  - cmd: 'grep "[0-9]\{3\}" [file]'
    scenario:
      en: Search for 3-digit numbers (basic regex)
      zh: 搜索 3 位数字（基本正则）
  - cmd: 'grep -E "[0-9]{3}" [file]'
    scenario:
      en: Search for 3-digit numbers (extended regex)
      zh: 搜索 3 位数字（扩展正则）
  - cmd: 'grep -i "TODO\|FIXME\|XXX" [file]'
    scenario:
      en: Find common code markers
      zh: 查找常见的代码标记
  - cmd: 'grep -w "TODO\|FIXME" [file]'
    scenario:
      en: Find whole word markers
      zh: 查找完整单词标记
  - cmd: 'grep -rn "import " . --include="*.py"'
    scenario:
      en: Find Python imports recursively
      zh: 递归查找 Python 导入语句
  - cmd: 'grep -rn "function\|const\|let" . --include="*.js"'
    scenario:
      en: Find JavaScript definitions recursively
      zh: 递归查找 JavaScript 定义
  - cmd: 'grep -rn "class\|def\|import" . --include="*.py"'
    scenario:
      en: Find Python class/function/import recursively
      zh: 递归查找 Python 类/函数/导入
  - cmd: 'grep -v "^$" [file] | grep -v "^#"'
    scenario:
      en: Remove empty and comment lines
      zh: 删除空行和注释行
  - cmd: 'grep -E "^[[:space:]]*#" [file]'
    scenario:
      en: Find comment lines (with optional whitespace)
      zh: 查找注释行（包括可选空白）
  - cmd: 'grep -E "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" [file]'
    scenario:
      en: Find email addresses
      zh: 查找电子邮件地址
  - cmd: 'grep -E "https?://[^[:space:]]+" [file]'
    scenario:
      en: Find HTTP/HTTPS URLs
      zh: 查找 HTTP/HTTPS URL
  - cmd: 'grep -E "^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$" [file]'
    scenario:
      en: Find IP addresses
      zh: 查找 IP 地址
  - cmd: 'grep --group-separator="===" -A 2 "[pattern]" [file]'
    scenario:
      en: Show context with custom separator
      zh: 显示上下文并使用自定义分隔符
  - cmd: 'grep -l "[pattern]" *.txt | xargs rm'
    scenario:
      en: Find and remove files containing pattern (use with caution)
      zh: 查找并删除包含模式的文件（谨慎使用）
  - cmd: 'grep -l "ERROR" *.log | xargs -I {} mv {} errors/'
    scenario:
      en: Move files containing ERROR to errors directory
      zh: 将包含 ERROR 的文件移动到 errors 目录
  - cmd: 'grep -o "[pattern]" [file] | wc -l'
    scenario:
      en: Count total occurrences (not lines)
      zh: 统计总出现次数（非行数）
  - cmd: 'grep -P "\x{汉字}" [file]'
    scenario:
      en: Search for Chinese characters (PCRE)
      zh: 搜索汉字（PCRE）
  - cmd: 'grep -P "\p{Han}" [file]'
    scenario:
      en: Search for Chinese characters using Unicode property
      zh: 使用 Unicode 属性搜索汉字
  - cmd: 'grep -rn "TODO\|FIXME" . --include="*.rs"'
    scenario:
      en: Find TODO/FIXME in Rust files
      zh: 在 Rust 文件中查找 TODO/FIXME
  - cmd: 'grep -rn "use\|mod\|fn" . --include="*.rs"'
    scenario:
      en: Find Rust imports/modules/functions
      zh: 查找 Rust 导入/模块/函数
  - cmd: 'grep -rn "#include\|#define" . --include="*.c"'
    scenario:
      en: Find C preprocessor directives
      zh: 查找 C 预处理指令
  - cmd: 'grep -rn "package\|import" . --include="*.go"'
    scenario:
      en: Find Go package/import statements
      zh: 查找 Go 包/导入语句
  - cmd: 'grep -E "^\s*export\s+" [file]'
    scenario:
      en: Find export statements
      zh: 查找导出语句
  - cmd: 'grep -E "^\s*(public|private|protected)\s+" [file]'
    scenario:
      en: Find access modifiers
      zh: 查找访问修饰符
  - cmd: 'grep -Pzo "(?s)<tag>.*?</tag>" [file]'
    scenario:
      en: Find multi-line XML/HTML tags
      zh: 查找多行 XML/HTML 标签
  - cmd: 'grep -rn "println!\|print!\|eprintln!" . --include="*.rs"'
    scenario:
      en: Find Rust print statements
      zh: 查找 Rust 打印语句
